(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5435,9654],{27839:(e,a,r)=>{"use strict";r.d(a,{default:()=>x});var l=r(95155),s=r(12115),t=r(66695),d=r(85007),n=r(96198),i=r(40980),c=r(73142),o=r(30285);function x(e){let{stockName:a}=e,[r,x]=(0,s.useState)([]),[u,b]=(0,s.useState)(!0),[m,h]=(0,s.useState)(null),[g,y]=(0,s.useState)("1y"),[v,p]=(0,s.useState)(new Set);function N(e,a){return e.map((r,l)=>l<a-1?null:e.slice(l-a+1,l+1).reduce((e,a)=>e+a.price,0)/a)}(0,s.useEffect)(()=>{!async function(){b(!0),h(null);try{let{data:e,error:r}=await (0,d.L)("".concat(a,".NS"),g);if(r)throw r;x(e||[])}catch(e){h(e instanceof Error?e.message:"An error occurred")}finally{b(!1)}}()},[a,g]);let f=N(r,20),j=N(r,50),w=r.map((e,a)=>({Date:e.date,Price:e.price,Volume:e.volume,SMA20:f[a],SMA50:j[a]})).map(e=>{let a={...e};return v.forEach(e=>{a[e]=null}),a}),k=e=>"â‚¹".concat(Intl.NumberFormat("en-IN").format(e).toString()),A=e=>{if((null==e?void 0:e.eventType)==="category"){let a=e.categoryClicked;p(e=>{let r=new Set(e);return r.has(a)?r.delete(a):r.add(a),r})}},S=()=>(0,l.jsx)("div",{className:"flex space-x-2 flex-wrap md:flex-nowrap",children:[{label:"3M",value:"3m"},{label:"6M",value:"6m"},{label:"1Y",value:"1y"},{label:"3Y",value:"3y"},{label:"5Y",value:"5y"}].map(e=>(0,l.jsx)(o.$,{variant:g===e.value?"default":"outline",size:"sm",className:"px-4 py-2 rounded-full transition-all",onClick:()=>y(e.value),children:e.label},e.value))});return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6 bg-background",children:[(0,l.jsx)(c.d,{stockName:a}),(0,l.jsxs)(t.Zp,{className:"hidden md:block overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800 shadow-lg",children:[(0,l.jsx)(t.aR,{className:"bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800 p-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Price History"}),(0,l.jsx)(S,{})]})}),(0,l.jsx)(t.Wu,{className:"p-6",children:u?(0,l.jsx)(i.A,{}):m?(0,l.jsxs)("div",{className:"text-lg text-red-500",children:["Error: ",m]}):(0,l.jsx)(n.Q,{className:"h-96",data:w,index:"Date",categories:["Price","SMA20","SMA50"],valueFormatter:k,showLegend:!0,showGridLines:!0,showXAxis:!0,showYAxis:!0,connectNulls:!0,enableLegendSlider:!0,xAxisLabel:"Date",yAxisLabel:"Price",onValueChange:A})})]}),(0,l.jsx)("div",{className:"block md:hidden",children:(0,l.jsxs)(t.Zp,{className:"overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800 shadow-lg",children:[(0,l.jsx)(t.aR,{className:"bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800 p-4",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Price History"}),(0,l.jsx)(S,{})]})}),(0,l.jsx)(t.Wu,{className:"p-4",children:u?(0,l.jsx)(i.A,{}):m?(0,l.jsxs)("div",{className:"text-lg text-red-500",children:["Error: ",m]}):(0,l.jsx)(n.Q,{className:"h-72",data:w,index:"Date",categories:["Price","SMA20","SMA50"],valueFormatter:k,showLegend:!0,showGridLines:!0,showXAxis:!0,showYAxis:!0,connectNulls:!0,enableLegendSlider:!0,xAxisLabel:"Date",yAxisLabel:"Price",onValueChange:A})})]})})]})}},84473:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,27839)),Promise.resolve().then(r.bind(r,96828))}},e=>{var a=a=>e(e.s=a);e.O(0,[5105,7649,8847,6453,6343,905,6828,1483,3142,8441,1684,7358],()=>a(84473)),_N_E=e.O()}]);