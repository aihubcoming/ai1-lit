(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6547],{14636:(e,a,t)=>{"use strict";t.d(a,{AM:()=>n,Wv:()=>i,hl:()=>o});var s=t(95155),r=t(12115),l=t(7640),d=t(59434);let n=l.bL,i=l.l9;l.Mz;let o=r.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:n=4,...i}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:a,align:r,sideOffset:n,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});o.displayName=l.UC.displayName},66695:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>n,wL:()=>u});var s=t(95155),r=t(12115),l=t(59434);let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...r})});d.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,l.cn)("font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent";let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});u.displayName="CardFooter"},67201:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.bind(t,85800)),Promise.resolve().then(t.bind(t,96828))},68856:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var s=t(95155),r=t(59434);function l(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",a),...t})}},85511:(e,a,t)=>{"use strict";t.d(a,{V:()=>o});var s=t(95155);t(12115);var r=t(29746),l=t(59434),d=t(30285),n=t(42355),i=t(13052);function o(e){let{className:a,classNames:t,showOutsideDays:o=!0,...c}=e;return(0,s.jsx)(r.hv,{showOutsideDays:o,className:(0,l.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,l.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,l.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===c.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,l.cn)((0,d.r)({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{className:a,...t}=e;return(0,s.jsx)(n.A,{className:(0,l.cn)("h-4 w-4",a),...t})},IconRight:e=>{let{className:a,...t}=e;return(0,s.jsx)(i.A,{className:(0,l.cn)("h-4 w-4",a),...t})}},...c})}o.displayName="Calendar"},85800:(e,a,t)=>{"use strict";t.d(a,{default:()=>w});var s=t(95155),r=t(12115),l=t(55365),d=t(68856),n=t(30285),i=t(85511),o=t(14636),c=t(83013),u=t(69074),m=t(4517),f=t(6874),h=t.n(f),x=t(76983),g=t(56060),p=t(35695),v=t(72345),b=t(31793),y=t(59434);let N=Object.entries(b.ux).map(e=>{let[a,t]=e;return{value:a,label:("string"==typeof t.stock_name?t.stock_name:"").replace("NSE:","").replace("-EQ","").replace("-BE","")}});function w(){let e=(0,p.useRouter)(),a=(0,p.usePathname)()||"",t=(0,p.useSearchParams)(),f=null==t?void 0:t.get("filter"),b=f&&["all","bullish","bearish"].includes(f)?f:"all",w=null==t?void 0:t.get("page"),j=w&&!isNaN(Number(w))?Number(w):1,k=null==t?void 0:t.get("stock"),_=null==t?void 0:t.get("date"),[S,C]=(0,r.useState)([]),[E,P]=(0,r.useState)(!0),[z,R]=(0,r.useState)(null),[A,L]=(0,r.useState)(j),[D,F]=(0,r.useState)(0),[B,O]=(0,r.useState)(k||"all"),[$,T]=(0,r.useState)(_?new Date(_):void 0),[M,I]=(0,r.useState)(""),[U,W]=(0,r.useState)(""),[Z,V]=(0,r.useState)(!1),q=Math.ceil(D/20);(0,r.useEffect)(()=>{if(k){let e=N.find(e=>e.value===k);e&&W(e.label)}},[k]);let G=(s,r,l,d)=>{let n=new URLSearchParams(null==t?void 0:t.toString());"all"===s?n.delete("filter"):n.set("filter",s),1===r?n.delete("page"):n.set("page",r.toString()),l&&"all"!==l?n.set("stock",l):n.delete("stock"),d?n.set("date",d.toISOString().split("T")[0]):n.delete("date");let i=n.toString(),o=i?"".concat(a,"?").concat(i):a;e.push(o)};(0,r.useEffect)(()=>{(async function(){try{P(!0);let e=await (0,m.qu)({page:A,pageSize:20,sentiment:"all"===b?void 0:b,symbol:"all"===B?void 0:B,date:$});C(e.data),F(e.count)}catch(e){R(e instanceof Error?e.message:"Failed to fetch alerts")}finally{P(!1)}})()},[b,A,B,$]),(0,r.useEffect)(()=>{w&&!isNaN(Number(w))?L(Number(w)):L(1)},[w]),(0,r.useEffect)(()=>{let e=(0,m.Fu)(e=>{let a="all"===b||e.sentiment===b,t="all"===B||e.symbol===B,s=!$||new Date(e.created_at).toDateString()===$.toDateString();a&&t&&s&&(C(a=>[e,...a.slice(0,19)]),F(e=>e+1))});return()=>e()},[b,B,$]);let H=e=>{G(e,1,B,$)},Q=(e,a)=>{O(e=e.split(":")[1].split("-")[0]),W(a),G(b,1,e,$),I(""),V(!1)},X=e=>{G(b,e,B,$)},J=N.filter(e=>e.label.toLowerCase().includes(M.toLowerCase()));return z?(0,s.jsxs)(l.Fc,{variant:"destructive",className:"mx-auto max-w-4xl mt-8",children:[(0,s.jsx)(l.XL,{children:"Error"}),(0,s.jsx)(l.TN,{children:z})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-start items-center mb-6 gap-4 w-full",children:[(0,s.jsxs)("div",{className:"w-full md:flex-1 relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search for a stock...",value:Z?M:M||U,onChange:e=>I(e.target.value),onFocus:()=>{V(!0),M||I("")},onBlur:()=>{setTimeout(()=>{V(!1)},200)},className:"w-full p-2 border rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600"}),(M||Z)&&(0,s.jsxs)("div",{className:"absolute mt-1 w-full bg-white dark:bg-gray-800 border rounded max-h-60 overflow-y-auto shadow-lg z-10",children:[(0,s.jsx)("div",{onClick:()=>{O("all"),W(""),I(""),G(b,1,"all",$)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer font-medium text-gray-900 dark:text-gray-100",children:"Show All Stocks"}),J.map(e=>(0,s.jsx)("div",{onClick:()=>Q(e.value,e.label),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-gray-900 dark:text-gray-100",children:e.label},e.value))]})]}),(0,s.jsxs)(o.AM,{children:[(0,s.jsx)(o.Wv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",className:"w-full md:w-[200px]",children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),$?(0,c.GP)($,"PPP"):"Pick a date"]})}),(0,s.jsx)(o.hl,{className:"w-auto p-0",children:(0,s.jsx)(i.V,{mode:"single",selected:$,onSelect:e=>{T(e),G(b,1,B,e)},initialFocus:!0})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[(0,s.jsx)(n.$,{variant:"all"===b?"default":"outline",size:"sm",onClick:()=>H("all"),className:"flex-1 md:flex-none",children:"All"}),(0,s.jsx)(n.$,{variant:"bullish"===b?"default":"outline",size:"sm",className:(0,y.cn)("flex-1 md:flex-none","bullish"===b?"bg-green-600 hover:bg-green-700":"hover:text-green-700"),onClick:()=>H("bullish"),children:"Bullish"}),(0,s.jsx)(n.$,{variant:"bearish"===b?"default":"outline",size:"sm",className:(0,y.cn)("flex-1 md:flex-none","bearish"===b?"bg-red-600 hover:bg-red-700":"hover:text-red-700"),onClick:()=>H("bearish"),children:"Bearish"})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:E?(0,s.jsx)(s.Fragment,{children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)(d.E,{className:"h-6 w-32 mb-2"}),(0,s.jsx)(d.E,{className:"h-4 w-full"}),(0,s.jsx)(d.E,{className:"h-4 w-3/4 mt-2"})]},a))}):(0,s.jsx)("div",{className:"space-y-4",children:S.length>0?S.map((e,a)=>{let t=(0,x.w)(e.sentiment),r=new Date(e.created_at);return(0,s.jsx)(h(),{href:"/alerts/".concat(e.symbol),className:"block hover:scale-[1.01] transition-transform",children:(0,g.E)(e,t,a,r)},e.id)}):(0,s.jsx)(v.A,{message:"No alerts was found, try again sometime later"})})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,s.jsx)(n.$,{variant:"outline",size:"sm",disabled:1===A||E,onClick:()=>X(A-1),children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",A," of ",q||1]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",disabled:A===q||0===q||E,onClick:()=>X(A+1),children:"Next"})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5105,7649,8847,6453,6766,3426,1921,3624,905,6828,4848,8441,1684,7358],()=>a(67201)),_N_E=e.O()}]);